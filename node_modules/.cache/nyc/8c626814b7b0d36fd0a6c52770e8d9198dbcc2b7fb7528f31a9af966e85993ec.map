{"version":3,"sources":["approveLoan.js"],"names":["ApproveLoan","req","res","id","params","data","loandb","find","loan","parseInt","status","body","newData","loanId","loanAmount","amount","tenor","monthlyInstallments","paymentInstallment","interest","send","error","approveLoan"],"mappings":";;;;;;;;AAAA;;;;;;;;IAEMA,W;;;;;;;4BACMC,G,EAAKC,G,EAAK;AAAA,UACNC,EADM,GACCF,IAAIG,MADL,CACND,EADM;;AAEd,UAAME,OAAOC,iBAAOC,IAAP,CAAY;AAAA,eAAQC,KAAKL,EAAL,KAAYM,SAASN,EAAT,EAAa,EAAb,CAApB;AAAA,OAAZ,CAAb;AACA,UAAIE,IAAJ,EAAU;AACRA,aAAKK,MAAL,GAAcT,IAAIU,IAAJ,CAASD,MAAvB;AACA,YAAME,UAAU;AACdC,kBAAQR,KAAKF,EADC;AAEdW,sBAAYT,KAAKU,MAFH;AAGdC,iBAAOX,KAAKW,KAHE;AAIdC,+BAAqBZ,KAAKa,kBAJZ;AAKdR,kBAAQL,KAAKK,MALC;AAMdS,oBAAUd,KAAKc;AAND,SAAhB;AAQA,eAAOjB,IAAIQ,MAAJ,CAAW,GAAX,EAAgBU,IAAhB,CAAqB;AAC1BV,kBAAQ,GADkB;AAE1BL,gBAAM,CAACO,OAAD;AAFoB,SAArB,CAAP;AAID;AACD,aAAOV,IAAIQ,MAAJ,CAAW,GAAX,EAAgBU,IAAhB,CAAqB;AAC1BV,gBAAQ,GADkB;AAE1BW,eAAO;AAFmB,OAArB,CAAP;AAID;;;;;;AAEP,IAAMC,cAAc,IAAItB,WAAJ,EAApB;kBACesB,W","file":"approveLoan.js","sourceRoot":"/home/ngabonziza/Desktop/camp6/Quick-credit/server/controllers/loan","sourcesContent":["import loandb from '../../models/loanDb';\n\nclass ApproveLoan{\n    approve(req, res) {\n        const { id } = req.params;\n        const data = loandb.find(loan => loan.id === parseInt(id, 10));\n        if (data) {\n          data.status = req.body.status;\n          const newData = {\n            loanId: data.id,\n            loanAmount: data.amount,\n            tenor: data.tenor,\n            monthlyInstallments: data.paymentInstallment,\n            status: data.status,\n            interest: data.interest,\n          };\n          return res.status(200).send({\n            status: 200,\n            data: [newData],\n          });\n        }\n        return res.status(404).send({\n          status: 404,\n          error: 'No Loan with that id exist on database',\n        });\n      }\n}\nconst approveLoan = new ApproveLoan();\nexport default approveLoan;"]}